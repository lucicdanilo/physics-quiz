var quizTitle = "Physics Quiz";
    
    var quizQuestions = [
        {
            "question"      :   "Momentum is the product of which two properties?",
           
            "choices"       :   [
                                    "acceleration and force",
                                    "mass and force",
                                    "mass and acceleration",
                                    "mass and velocity"
                                ],
            "correct"       :   "mass and velocity",
            
        },
        {
            "question"      :   "A newton is equal to which of following?",
           
            "choices"       :   [
                                    "kilogram per meter-second",
                                    "kilogram-meter per second squared",
                                    "kilogram-meter per second",
                                    "meter per second squared"
                                    
                                ],
            "correct"       :   "kilogram-meter per second squared",
           
        },
        {
            "question"      :   "Heat transfer by radiation occurs through what?",
           
            "choices"       :   [
                                    "electromagnetic waves",
                                    "atmospheric currents",
                                    "molecular and electronic collisions",
                                    "direct contact"
                                ],
            "correct"       :   "electromagnetic waves",
            
        },

        {
            "question"      :   "Which of the following is physical quantity that has magnitude but no direction?",
           
            "choices"       :   [
                                    "vector",
                                    "resultant",
                                    "scalar",
                                    "velocity"
                                    
                                ],
            "correct"       :   "scalar",
         
        },

        {
            "question"      :   "Which device stores and releases electrical charges?",
           
            "choices"       :   [
                                    "semiconductor",
                                    "resistor",
                                    "transistor",
                                    "capacitor"
                                ],
            "correct"       :   "capacitor",
        
        },

       

        {
            "question"      :   "The instrument that measures and records the relative humidity of air is ...",
           
            "choices"       :   [
                                    "hydrometer",
                                    "hygrometer",
                                    "lactometer",
                                    "barometer"
                                ],
            "correct"       :   "hygrometer",
          
        },

        {
            "question"      :   "The speed of light is equal to ____  x 10^8m/s.",
          
            "choices"       :   [
                                    "1.38",
                                    "3.00",
                                    "8.85",
                                    "6.63"
                                ],
            "correct"       :   "3.00",
          
        },

        {
            "question"      :   "A wave with a relatively long wavelength will also have ...",
            
            "choices"       :   [
                                    "a long period",
                                    "a high frequency",
                                    "a large amplitude",
                                    "a small amplitude"
                                ],
            "correct"       :   "a long period",
         
        },

        {
            "question"      :   "What is the energy process of our Sun?",
            
            "choices"       :   [
                                    "nuclear fusion",
                                    "nuclear radioactive decay",
                                    "nuclear fission",
                                    "nuclear electromagnetic spectrum"
                                ],
            "correct"       :   "nuclear fusion",
          
        },

        {
            "question"      :   "Which part of the electromagnetic spectrum has the shortest wavelength?",
           
            "choices"       :   [
                                    "visible light",
                                    "infrared",
                                    "gamma rays",
                                    "UV rays"
                                ],
            "correct"       :   "gamma rays",
           
        },

        {
            "question"      :   "Acceleration due to gravity on or near the surface of Earth is ____ m/s^2.",
           
            "choices"       :   [
                                    "6.67",
                                    "9.81",
                                    "9.11",
                                    "6.81"
                                ],
            "correct"       :   "9.81",
         
        },
        {
            "question"      :   "Who received the 1935 Nobel Prize in Physics for the discovery of the neutron?",
        
            "choices"       :   [
                                    "Paul Dirac",
                                    "James Chadwick",
                                    "Enrico Fermi",
                                    "Werner Heisenberg"
                                ],
            "correct"       :   "James Chadwick",
           
        },
        {
            "question"      :   "The fundamental scientific principle in the operation of battery is ...",
           
            "choices"       :   [
                                    "acid-base interaction",
                                    "dialysis",
                                    "dissociation of electrolytes",
                                    "oxidation-reduction"
                                ],
            "correct"       :   "dissociation of electrolytes",
          
        },

        {
            "question"      :   "Whose law relates the distance a spring stretches to the force applied to the spring?",
            
            "choices"       :   [
                                    "Hooke's law",
                                    "Boyle's law",
                                    "Le Chatelier's principle",
                                    "Fermat's principle"
                                ],
            "correct"       :   "Hooke's law",
          
        },

        {
            "question"      :   "When did scientists first discover that light had a specific, measureable speed?",
            
            "choices"       :   [
                                    "17th century",
                                    "18th century",
                                    "16th century",
                                    "19th century"
                                ],
            "correct"       :   "17th century",
           
        },

        {
            "question"      :   "Theoretical physicist James Maxwell was born in what country?",
           
            "choices"       :   [
                                    "France",
                                    "US",
                                    "Scotland",
                                    "Denmark"
                                ],
            "correct"       :   "Scotland",
           
        },

       

        {
            "question"      :   "What do you call the building blocks that make up protons and neutrons? ",
         
            "choices"       :   [
                                    "squarks",
                                    "quarks",
                                    "quicks",
                                    "atoms"
                                ],
            "correct"       :   "quarks",
           
        },

        {
            "question"      :   "Which of the following is Augustin-Jean Fresnel best remembered for? ",
            
            "choices"       :   [
                                    "his work in quantum mechanics",
                                    "the discovery of the planet Neptune",
                                    "the wave theory of light",
                                    "the discovery of protons"
                                ],
            "correct"       :   "the wave theory of light",
           
        },

        {
            "question"      :   "What technology won the first Nobel Prize in physics in 1901? ",
            
            "choices"       :   [
                                    "nuclear fusion",
                                    "nuclear fission",
                                    "X-rays",
                                    "radio"
                                ],
            "correct"       :   "X-rays",
          
        },

        {
            "question"      :   "What technological innovation is Guglielmo Marconi best known for? ",
           
            "choices"       :   [
                                    "television",
                                    "telephone",
                                    "internet",
                                    "radio"
                                ],
            "correct"       :   "radio",
            
        },

        {
            "question"      :   "Equilibrium is a condition that can ...",
           
            "choices"       :   [
                                    "never change",
                                    "change only if some outside factor changes",
                                    "change only if some internal factor changes",
                                    "change only if government policies change"
                                ],
            "correct"       :   "never change",
           
        },

        {
            "question"      :   "Where can you find the world's largest particle accelerator? ",
            
            "choices"       :   [
                                    "United States",
                                    "Switzerland",
                                    "Russia",
                                    "Japan"
                                ],
            "correct"       :   "Switzerland",
            
        },
        {
            "question"      :   "What is J. Robert Oppenheimer remembered for? ",
           
            "choices"       :   [
                                    "giving neutrinos their name",
                                    "the atomic bomb",
                                    "the discovery of numerous unknown stars",
                                    "the discovery of numerous unknown elements"
                                ],
            "correct"       :   "the atomic bomb",
           
        },
        {
            "question"      :   "What are Kelvins used to measure? ",
         
            "choices"       :   [
                                    "temparature",
                                    "mass",
                                    "density",
                                    "velocity"
                                ],
            "correct"       :   "temparature",
            
        },

        {
            "question"      :   "What is gravity like inside a black hole? ",
            
            "choices"       :   [
                                    "nonexistent",
                                    "incredibly strong",
                                    "the same as it is outside of the black hole",
                                    "unknown"
                                ],
            "correct"       :   "incredibly strong",
            
        },

        {
            "question"      :   "If you hold your hand up to the sun for a moment, how many neutrinos pass through? ",
            
            "choices"       :   [
                                    "none",
                                    "just a few",
                                    "billions",
                                    "thousands"
                                ],
            "correct"       :   "billions",
          
        },

       

        {
            "question"      :   "What was Stephen Hawking's main field of study? ",
            
            "choices"       :   [
                                    "cosmology",
                                    "quantum mechanics",
                                    "optics",
                                    "mechanics"
                                ],
            "correct"       :   "cosmology",
           
        },

        {
            "question"      :   "How many dimensions exist in string theory?",
            
            "choices"       :   [
                                    "four",
                                    "six",
                                    "ten",
                                    "eleven"
                                ],
            "correct"       :   "ten",
           
        },

        {
            "question"      :   "Which of the following is not a form of energy?",
           
            "choices"       :   [
                                    "light",
                                    "friction",
                                    "heat",
                                    "sound"
                                ],
            "correct"       :   "friction",
            
        },

        {
            "question"      :   "Who developed the original idea of atoms?",
           
            "choices"       :   [
                                    "Niels Bohr",
                                    "Albert Einstein",
                                    "Sir Isaac Newton",
                                    "Stephen Hawking"
                                ],
            "correct"       :   "Niels Bohr",
            
        },

                        
    ];
   

    var currentQuestion = 0;
    var score = 0;
    var submt=true;
    var picked;


    jQuery(document).ready(function($){


        
        function htmlEncode(value){
          return $(document.createElement('div')).text(value).html();
        }
        
        function addChoices(choices){
            if(typeof choices !== "undefined" && $.type(choices) == "array"){
                $('#choice-block').empty();
                for(var i=0;i<choices.length; i++){
                    $(document.createElement('li')).addClass('choice choice-box').attr('data-index', i).text(choices[i]).appendTo('#choice-block');                    
                }
            }
        }
        
        function nextQuestion(){
            submt = true;
            $('#question').text(quizQuestions[currentQuestion]['question']);
            $('#pager').text('Question ' + Number(currentQuestion + 1) + ' of ' + quizQuestions.length);
            addChoices(quizQuestions[currentQuestion]['choices']);
            setupButtons();
        }
        
        function processQuestion(choice){
            if(quizQuestions[currentQuestion]['choices'][choice] == quizQuestions[currentQuestion]['correct']){
                $('.choice').eq(choice).css({'background-color':'#50D943'});
                score++;
            } else {
                $('.choice').eq(choice).css({'background-color':'#D92623'});
            }
            currentQuestion++;
            $('#submitbutton').html('NEXT QUESTION &raquo;').on('click', function(){
                if(currentQuestion == quizQuestions.length){
                    endQuiz();
                } else {
                    $(this).text('Check Answer').css({'color':'#222'}).off('click');
                    nextQuestion();
                }
            })
        }
       
        function setupButtons(){
            $('.choice').on('mouseover', function(){
                $(this).css({'background-color':'#3084C0'});
            });
            $('.choice').on('mouseout', function(){
                $(this).css({'background-color':'#535C83'});
            })
            $('.choice').on('click', function(){
                picked = $(this).attr('data-index');
                $('.choice').removeAttr('style').off('mouseout mouseover');
                $(this).css({'border-color':'white','border-width':'6px','font-weight':700,'background-color':'rgb(57, 173, 255)'});
                if(submt){
                    submt=false;
                    $('#submitbutton').css({'color':'white'}).on('click', function(){
                        $('.choice').off('click');
                        $(this).off('click');
                        processQuestion(picked);
                    });
                }
            })
        }
        
        
        function endQuiz(){
            
            $('#question').empty();

            if (score >= 24){

                $('#choice-block').html('<center><img src="img/good.gif"></center>');
            }
            if (score >= 15 && score < 24){
                
                $('#choice-block').html('<center><img src="img/average.gif"></center>');
            }

            if (score >= 7 && score < 15){

                $('#choice-block').html('<center><img src="img/bad.gif"></center>');
            }

            if (score <7){

                $('#choice-block').html('<center><img src="img/fail.gif"></center>');
            }
            
            $('#submitbutton').remove();
            $('#question').text("You got " + score + " out of " + quizQuestions.length + " correct.");
            $(document.createElement('h2')).css({'text-align':'center', 'font-size':'4em'}).text(Math.round(score/quizQuestions.length * 100) + '%').insertAfter('#question');
            
            
        }
       
        function init(){
           
            if(typeof quizTitle !== "undefined" && $.type(quizTitle) === "string"){
                $(document.createElement('h1')).text(quizTitle).appendTo('#frame');
            } else {
                $(document.createElement('h1')).text("Quiz").appendTo('#frame');
            }
          
            if(typeof quizQuestions !== "undefined" && $.type(quizQuestions) === "array"){
               
                $(document.createElement('p')).addClass('pager').attr('id','pager').text('Question 1 of ' + quizQuestions.length).appendTo('#frame');
               
                $(document.createElement('h2')).addClass('question').attr('id', 'question').text(quizQuestions[0]['question']).appendTo('#frame');
                
                if(quizQuestions[0].hasOwnProperty('image') && quizQuestions[0]['image'] != ""){
                    $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quizQuestions[0]['image']).attr('alt', htmlEncode(quizQuestions[0]['question'])).appendTo('#frame');
                }
                                
                $(document.createElement('ul')).attr('id', 'choice-block').appendTo('#frame');
            
                addChoices(quizQuestions[0]['choices']);
            
                $(document.createElement('div')).addClass('choice-box').attr('id', 'submitbutton').text('Check Answer').css({'font-weight':700,'color':'#222','padding':'30px 0'}).appendTo('#frame');
            
                setupButtons();
            }
        }
        
        init();
    });